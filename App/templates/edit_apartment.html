{% extends "layout.html" %}

{% block title %}Edit Apartment{% endblock %}
{% block page %}Edit Apartment{% endblock %}

{% block content %}
<div class="container">
    <h4>Edit Apartment Listing</h4>
    <form method="POST" action="/apartments/{{apartment.id}}/edit" enctype="multipart/form-data">

        <div class="input-field">
            <input name="title" id="title" type="text" class="validate" value="{{ apartment.title }}" required>
            <label for="title" class="active">Unit Name</label>
        </div>

        <div class="input-field">
            <input name="body" id="body" type="text" class="validate" value="{{ apartment.body }}" required>
            <label for="body" class="active">Description</label>
        </div>

        <div class="input-field">
            <input name="amenities" id="amenities" type="text" class="validate" value="{{ apartment.amenities }}">
            <label for="amenities" class="active">Amenities</label>
        </div>

        <div class="input-field">
            <input name="pets_allowed" id="pets_allowed" type="text" class="validate" value="{{ apartment.pets_allowed }}">
            <label for="pets_allowed" class="active">Pets Allowed</label>
        </div>

        <div class="input-field">
            <input name="price" id="price" type="text" class="validate" value="{{ apartment.price }}">
            <label for="price" class="active">Rent Per Month</label>
        </div>

        <div class="input-field">
            <input name="address" id="address" type="text" class="validate" value="{{ apartment.address }}">
            <label for="address" class="active">Address</label>
        </div>

        <div class="input-field">
            <input name="cityname" id="cityname" type="text" class="validate" value="{{ apartment.cityname }}">
            <label for="cityname" class="active">City</label>
        </div>

        {% if apartment.photo %}
            <p>Current Photo:</p>
            <div class="card-image">
                <img src="{{ url_for('upload_views.uploaded_file', filename=apartment.photo) }}" alt="Apartment Photo" style="max-width: 300px;">
            </div>
        {% endif %}

        <div class="file-field input-field">
            <div class="btn">
                <span>Change Image</span>
                <input type="file" name="photo" id="photo" accept="image/jpeg,image/jpg,image/png">
            </div>
            <div class="file-path-wrapper">
                <input class="file-path validate" type="text" placeholder="Upload new JPG/PNG image ">
            </div>
        </div>

        <div class="card-action">
            <button type="submit" class="btn green white-text">Save Changes</button>
            <a href="{{ url_for('index_views.index_page') }}" class="btn-flat">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
